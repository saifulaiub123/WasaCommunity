<div class="messages-wrapper" fxFlex="100" fxLayout="column">
    <div class="scrollable-wrapper" fxFlex="97" fxLayout="column">
        <perfect-scrollbar #scrollBar>
            <div>
                <div *ngIf="currentThread.id != null" class="author-header" fxLayout="row"
                    [ngStyle.xs]="{ 'border-radius.px': 0 }"
                    [ngStyle]="isDarkTheme ? {backgroundColor: 'rgba(230, 74, 25, 0.8)'} : {backgroundColor: '#b0bec5'}">
                    <div fxLayoutAlign="start center">
                        <img class="avatar avatar-md" [src]="getImageForThread(currentThread)" alt="User Avatar">
                    </div>

                    <h2 class="author-details">
                        <!-- <mat-icon>fiber_manual_record</mat-icon> -->
                        {{currentThread.name}}
                    </h2>

                </div>


                <div class="msg-container-base">
                    <chat-message *ngFor="let message of messages$ | async" [message]="message">
                    </chat-message>
                </div>
            </div>
        </perfect-scrollbar>
    </div>

    <div *ngIf="currentThread.id != null" class="send" fxFlex="auto" fxLayoutAlign="space-between center">


        <mat-form-field id="chat" fxFlex="100">
            <perfect-scrollbar>
                <div class="scroll-wrapper">
                    <textarea class="scroll" cdkTextareaAutosize #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="1"
                        cdkAutosizeMaxRows="3" name="message" matInput (keydown.enter)="onEnter($event)" [(ngModel)]="draftMessage.text">
                    </textarea>
                </div>
            </perfect-scrollbar>
        </mat-form-field>
        <button mat-icon-button (click)="onEnter($event)">
            <mat-icon>send</mat-icon>
        </button>
    </div>
</div>
